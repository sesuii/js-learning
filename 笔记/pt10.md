<!--
 * @Author: _krill
 * @Date: 2022-08-08 13:15:59
 * @LastEditTime: 2022-08-09 11:18:54
 * @Description: 
-->

# Number and Date

## Number

### è½¬æ¢å’Œåˆ¤æ–­æ•°å­—

```js
// å¼ºåˆ¶è½¬æ¢ç®€åŒ– 
console.log(+'23'); // Number('23');

// è½¬æ¢ parsing ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šè¿›åˆ¶æ•°
console.log(Number.parseInt('30px')); // 30
console.log(Number.parseInt('e23')); // NaN 
console.log(Number,parseFloat('  2.3rem  ')); // 2.3

// check åˆ¤æ–­æ˜¯å¦ä¸º NaN
console.log(Number.isNaN('20')); // false
console.log(Number.isNaN(23 / 0)); // Infinity
// isFinite æ›´å¥½çš„æ–¹æ³•
console.log(Number.isFinite(20));
console.log(Number.isFinite(+'20X'));
// isInteger
console.log(Number.isInteger(21));
```

### æ•°å­¦æ–¹æ³•å’Œå–è¿‘ä¼¼

```js
// å¼€æ–¹
Math.sqrt(225);
// å¹‚
25 ** (1 / 2);
// max
Math.max([1, 2, 3, 32, 21, 3]); // 32
Math.max([1, 2, 3, "32", 21, 3]); // NaN
// random
Math.random() // 0 - 1
// å–[min, max]èŒƒå›´å†…çš„éšæœºæ•°
const randomInt = (min, max) => Math.trunc(Math.random() * (max - min) + min);

```

å–è¿‘ä¼¼ï¼Œä¼šåšå¼ºåˆ¶ç±»å‹è½¬æ¢

```js
// trunc å»æ‰å°æ•°ä½
Math.trunc(21.1); // 21
// round å››èˆäº”å…¥
Math.round(21.6); // 22
// ceil å‘ä¸Šå–æ•´
Math.round(231.1); // 232
// floor å‘ä¸‹å–æ•´
Math.floor(21.9); // 21
// æŒ‡å®šå°æ•°ä½ å››èˆäº”å…¥ è¿”å›å­—ç¬¦ä¸²
(2.7).toFixed(0); // 3
(2.7).toFixed(3); // 2.700
+(2.345).toFixed(2); // 2.35
```

## Numberic Separators æ•°å­—åˆ†å‰²ç¬¦ æ ¼å¼åŒ–

`_` åªèƒ½åœ¨æ•°å­—ä¹‹é—´ä½¿ç”¨ã€‚

```js
const diameter = 287_460_000_000;
console.log(diameter); // 287460000000
```

## BigInt å¤§æ•´æ•°

```js
console.log(2 ** 53 - 1, Number.MAX_SAFE_INTEGER);
// BigInt
console.log(5489372598302758974309857n);
console.log(BigInt(3248932758943758943));
// æ“ä½œ
// ä¸èƒ½å°†å¤§æ•´æ•°å’Œå¸¸è§„æ•°æ··åˆåœ¨ä¸€èµ·è¿ç®—ï¼Œé™¤äº†æ¯”è¾ƒè¿ç®—ç¬¦å’Œ `+` å­—ç¬¦ä¸²è¿æ¥
console.log(12112n + 34232423154325435435342n);
console.log(29n === 29); // false
console.log(29n == 29); // true
console.log(huge + `is a really big int!!!`); 
```

## Date

Basic

```js
const now = new Date(); // å½“å‰æ—¶é—´
// æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²åˆå§‹å€¼
const dec = new Date('December 24, 2015');
// å‚æ•°ï¼šå¹´ æœˆ-1 æ—¥ æ—¶ åˆ† ç§’
console.log(new Date(2037, 10, 19, 15, 23, 5));
// 1970/1/1
console.log(new Date(0));
```

æ“ä½œ

```js
const future = new Date(2037, 10, 19, 15, 23);
future.getFullYear(); // 2037
future.getMonth(); // ä» 0 å¼€å§‹ 10
future.getDate(); // 4 æ˜ŸæœŸå››
future.getDay();
future.getHour();
future.getMinutes();
future.getSeconds();
future.toISOString(); // 2037-11-19T15:23:00.000Z
// æ—¶é—´æˆ³ ä» 1970/1/1 å¼€å§‹ï¼Œå•ä½ä¸ºæ¯«ç§’
future.getTime();
Date.now();
// 2037 -> 2040
future.setFullYear(2040);
```

```js
// è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ—¶é—´å·®
const future = new Date(2037, 10, 19, 15, 23);
console.log(+future); // Number
const calcDaysPassed = (date1, date2) => Math.abs(date2 - date1) / (1000 * 60 * 60 * 24);

calcDaysPassed(new Date(2037, 3, 14), new Date(2037, 3, 24));
```

## æ ¼å¼åŒ–ã€å›½é™…åŒ–ã€‘

Date

```js
const now = new Date();
const options = {
    hour: 'numeric',
    minute: 'numeric',
    day: 'numeric',
    month: 'long',
    year: 'numeric',
    // weekday: 'long'
};
// è·å–å½“å‰æ—¶åŒº
const locale = navigator.language;
// Intl åº“
labelDate.textContent = new Intl.DateTimeFormat(locale, options).format(now);
```

Number

```js
const num = 3884764.23;

const option = {
    // currency
    style: "unit",
    // å•ä½ km/h æ‘„æ°åº¦ ç™¾åˆ†æ¯”
    unit: "mile-per-hour",
    // è´§å¸
    currency: 'EUR',
    useGrouping: false,
}

console.log(new NumberFormat(locale, option).format(num))
```

## å®šæ—¶å™¨

### timeout timer è¶…æ—¶å®šæ—¶å™¨

å›è°ƒå‡½æ•°åªæ‰§è¡Œä¸€æ¬¡

```js
const ingredients = ['olives', 'spinach'];
// å¼‚æ­¥ æ³¨å†Œå®šæ—¶äº‹ä»¶åç«‹åˆ»ç»§ç»­æ‰§è¡Œåç»­ä»£ç 
const pizzaTimer = setTimeout(() => console.log(`here is your pizza ğŸ˜Š`), 1000 * 3);
console.log(`waiting`);
setTimeout((ing1, ing2) => console.log(`here is your pizza with ${ing1} and ${ing2} ğŸ˜Š`), 1000 * 3, ...ingredients);
// åœ¨æ‰§è¡Œå‰å–æ¶ˆå®šæ—¶å™¨
if(ingredients.includes('spinach')) clearTimeout(pizzaTimer);

```

### interval timer é—´éš”å®šæ—¶å™¨

```js
setInterval(function() {
    const now = new Date();
    console.log(now);
}, 1000 * 3)
```

``` js
/**
 * è‡ªåŠ¨ç™»å‡ºè®¡æ—¶å™¨
 * 1. é¢„å…ˆæ‰§è¡Œä¸€æ¬¡ tick
 * 2. å‰©ä½™ 1 ç§’æ—¶å°±ç™»å‡º => å…ˆåˆ¤æ–­å†è‡ªå‡
 * 3. åˆ‡æ¢ç”¨æˆ·æ—¶ä¸¤ä¸ªè®¡æ—¶å™¨åœ¨åŒæ—¶è¿›è¡Œ => ç™»å½•å‰å…ˆæ£€æŸ¥ï¼Œå¦‚æœå­˜åœ¨ timer å…ˆåˆ é™¤
 * 4. å¦‚æœç•Œé¢æœ‰å“åº”ï¼Œåˆ™é‡ç½® timer
 */
const startLogOutTimer = function () {
  let time = 10 * 60;
  const tick = function () {
    const min = String(Math.trunc(time / 60)).padStart(2, '0');
    const sec = String(time % 60).padStart(2, '0');
    labelTimer.textContent = `${min}:${sec}`;
    if (time === 0) {
      clearInterval(timer);
      labelWelcome.textContent = "Log in to get started";
      containerApp.style.opacity = 0;
    }
    time--;
  }
  tick();
  const timer = setInterval(tick, 1000);
  return timer;
};
```